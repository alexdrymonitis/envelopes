#N canvas 148 49 882 657 10;
#X obj 81 70 inlet;
#X obj 81 187 f;
#X obj 111 187 + 1;
#X obj 212 149 t l l;
#X obj 369 166 spigot;
#X obj 269 586 outlet;
#X obj 348 193 list;
#X obj 81 92 route list float;
#X obj 348 90 sel 0;
#X obj 212 527 spigot 1;
#X obj 81 132 t b l;
#X obj 257 126 t f f;
#X obj 402 143 == 0;
#X msg 81 295 0;
#X msg 257 104 1;
#X obj 348 215 t l b b b;
#X msg 96 164 0;
#X obj 212 562 route bang;
#X obj 348 240 t l l;
#X text 391 89 wait for zero to trigger the release part of the envelope
;
#X obj 212 482 pipe 0 0 0;
#X obj 212 504 pack;
#X obj 81 273 sel;
#N canvas 331 298 318 271 set_arg 0;
#X obj 91 62 loadbang;
#X obj 91 84 \$1;
#X obj 91 106 sel 0;
#X msg 91 128 3;
#X obj 91 153 outlet;
#X obj 150 62 inlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 3 0 4 0;
#X connect 5 0 2 0;
#X restore 96 250 pd set_arg;
#X obj 96 227 inlet num_brk_points;
#X obj 459 290 sel 0;
#X obj 409 345 timer;
#X obj 409 367 swap;
#X obj 409 389 -;
#X obj 409 411 moses 0;
#X msg 409 433 0;
#X text 470 364 when a new envelope comes in \, calculate the ellapsed
time since the triggering of the release of the envelope. If it's less
than the ramp time of the release \, delay the new envelope by the
remaing ramp time so that all four lists that come in the beginning
are delayed by the same amount of time;
#X obj 375 263 list split 1;
#X obj 257 406 pipe;
#X obj 448 465 t f f;
#X text 292 492 use [pipe] both for the list and the control of [spigot]
because even with a 0 delay \, [pipe] will output its values after
the counter of the abstraction \, because this is how delay objects
work in Pd;
#X text 100 14 Abstraction to hold the last point of an envelope made
with [ggee/envgen];
#X text 622 599 Written by Alexandros Drymonitis;
#X obj 409 318 t b f f;
#X obj 482 335 outlet last_delay;
#X connect 0 0 7 0;
#X connect 1 0 2 0;
#X connect 1 0 22 0;
#X connect 2 0 1 1;
#X connect 3 0 20 0;
#X connect 3 1 4 0;
#X connect 4 0 6 1;
#X connect 6 0 15 0;
#X connect 7 0 10 0;
#X connect 7 1 8 0;
#X connect 8 0 6 0;
#X connect 9 0 17 0;
#X connect 10 0 1 0;
#X connect 10 1 3 0;
#X connect 11 0 33 0;
#X connect 11 1 12 0;
#X connect 12 0 4 1;
#X connect 13 0 11 0;
#X connect 14 0 11 0;
#X connect 15 0 18 0;
#X connect 15 1 16 0;
#X connect 15 2 14 0;
#X connect 15 3 6 1;
#X connect 16 0 1 1;
#X connect 17 1 5 0;
#X connect 18 0 17 0;
#X connect 18 1 32 0;
#X connect 20 0 21 0;
#X connect 20 1 21 1;
#X connect 21 0 9 0;
#X connect 22 0 13 0;
#X connect 22 1 25 0;
#X connect 23 0 22 1;
#X connect 24 0 23 0;
#X connect 25 0 26 1;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X connect 27 1 28 1;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 29 1 34 0;
#X connect 30 0 34 0;
#X connect 32 1 38 0;
#X connect 33 0 9 1;
#X connect 34 0 20 2;
#X connect 34 1 33 1;
#X connect 38 0 26 0;
#X connect 38 1 27 1;
#X connect 38 2 39 0;
